function init() {
  s = swarm.create(1)
  s.select(id % 2 == 0)
  o = s.others(2)
}

function step() {
  log("ROBOT ", id, ": ", neighbors.count(), " neighbors")

  s.exec(printkin)
  o.exec(printkin)

  log()
}

function destroy() {
}

function printkin() {
  log("ROBOT ", id, " is in swarm ", swarm.id)
  neighbors.kin().map(function(rid, data) {
    log("ROBOT ", id, ": NEIGHBOR<id=", rid, ", dist=", data.distance, ", azimuth=", data.azimuth, ", elevation=", data.elevation, ">")
  })
}

function printnonkin() {
  neighbors.nonkin().map(function(rid, data) {
    log("ROBOT ", id, ": NEIGHBOR<id=", rid, ", dist=", data.distance, ", azimuth=", data.azimuth, ", elevation=", data.elevation, ">")
  })
}
